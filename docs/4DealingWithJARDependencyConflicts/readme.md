# 处理JAR依赖冲突

如果想在已有的Java应用中加入ES，可能还需要解决和第三方jar包的版本冲突，如Guava、Joda等。

例如：ES使用的是Joda-2.8版本，而应用中使用的是Joda-2.1版本

下面是建议的两种解决办法：

- 最简单的解决办法就是升级。新版本可能已经修复了老版本的Bug。落后的版本越多，修复的难度也相对越大。当然，你也可以继续使用老版本而不选择升级。
- 第二个选择是将引起冲突的依赖做迁移，在应用和ES以及基于ES客户端实现的插件之间做一道隔离。

具体是隔离还是不隔离，在[这篇博客](https://www.elastic.co/blog/to-shade-or-not-to-shade)中对每一步都有详细的描述